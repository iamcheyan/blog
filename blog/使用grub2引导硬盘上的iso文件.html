<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=endge, chrome=IE8" />
    <meta name="viewport" content="initial-scale=1.0, width=device-width, user-scalable=no" />
    <title>åœ¨ Btrfs åˆ†åŒºä½¿ç”¨ Grub ç¡¬ç›˜å¼•å¯¼ iso é•œåƒ â€” iamcheyan.com</title>
    <!--[if lte IE 8]>
        <script type="text/javascript" src="./theme/js/html5shiv.js"></script><![endif]-->
    <script type="text/javascript" src="./theme/js/jquery-3.6.4.min.js"></script>
    <script type="text/javascript" src="./theme/js/script.js" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="./theme/che.css" />
    <link rel="stylesheet" type="text/css" href="./theme/css/theme.css" />
    <script src="./theme/js/random_articles.js"></script>
    <link rel="shortcut icon" type="image/x-icon" href="./theme/favicon.ico" />
    <!--[if lte IE 8]>
        <link rel="shortcut icon" type="image/x-icon" href="./theme/favicon.ico"/>
        <![endif]-->
    <link rel="alternate" type="application/atom+xml" title="iamcheyan.com â€” Flux Atom"
        href="./" />

    <meta name="author" content="cheyan"/>
    <meta name="keywords" content=""/>
</head>

<body>
    <div id="page">
        <header id="page-head">
            <div id="topbar">
                <a href="?lang=ja" class="on">æ—¥æœ¬èª</a>
                <a href="?lang=zh-cn">ä¸­æ–‡</a>
            </div>
            <nav class="navbar" role="navigation">
                <h1><a href="http://iamcheyan.com/">Iam cheyan .com</a></h1>
                <ul class="a">
                    <li class="i">
                        <a href="app/pelican/blog/">ãƒ–ãƒ­ã‚°</a>
                    </li>
                    <li class="i">
                        <a class="icon"
                            href="https://github.com/iamcheyan/" target="_blank" aria-label="GitHub">
                            <svg width="32" height="32" viewBox="0 0 1024 1024" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M512 76C273.6 76 76 273.6 76 512c0 192.8 125.2 356.4 298.8 414.2 21.8 4 29.8-9.4 29.8-20.8 0-10.2-0.4-44-0.6-79.8-121.6 26.4-147.4-51.6-147.4-51.6-19.8-50.2-48.4-63.6-48.4-63.6-39.6-27 3-26.4 3-26.4 43.8 3.2 66.8 45 66.8 45 38.8 66.6 101.8 47.4 126.6 36.2 3.8-28 15.2-47.4 27.6-58.4-97-11-199-48.4-199-215.6 0-47.6 17-86.6 44.8-117.2-4.6-11-19.4-55.2 4.2-115 0 0 36.6-11.8 120 44.8 34.8-9.6 72-14.4 109.2-14.6 37.2 0.2 74.4 5 109.2 14.6 83.2-56.6 119.8-44.8 119.8-44.8 23.6 59.8 8.8 104 4.2 115 27.8 30.6 44.8 69.6 44.8 117.2 0 167.6-102.2 204.4-199.6 215.2 15.6 13.4 29.4 39.8 29.4 80.2 0 57.8-0.6 104.4-0.6 118.6 0 11.6 7.8 25.2 30 20.8C822.8 868.2 948 704.8 948 512 948 273.6 750.4 76 512 76z"/>
                            </svg>
                        </a>
                    </li>
                    <li class="i">
                        <a class="icon"
                            href="https://x.com/iamcheyan/" target="_blank" aria-label="Twitter">
                            <svg width="32" height="32" viewBox="0 0 1024 1024" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M1024 194.6c-37.7 16.7-78.2 28-120.7 33.1 43.4-26 76.7-67.2 92.4-116.3-40.6 24.1-85.6 41.6-133.6 51-38.3-40.8-92.9-66.3-153.3-66.3-116 0-210 94-210 210 0 16.5 1.9 32.6 5.5 48-174.5-8.8-329.1-92.4-432.5-219.5-18.1 31-28.5 67-28.5 105.5 0 72.8 37.1 137.1 93.6 174.7-34.4-1.1-66.8-10.5-95.2-26.2v2.6c0 101.8 72.4 186.7 168.5 206-17.6 4.8-36.1 7.4-55.2 7.4-13.5 0-26.6-1.3-39.4-3.7 26.7 83.3 104.1 143.9 195.8 145.5-71.8 56.3-162.3 89.9-260.6 89.9-16.9 0-33.6-1-50-2.9 92.9 59.6 203.3 94.4 322 94.4 386.4 0 597.9-320.2 597.9-597.9 0-9.1-0.2-18.2-0.6-27.2 41-29.6 76.6-66.5 104.7-108.6z"/>
                            </svg>
                        </a>
                    </li>
                </ul>
            </nav>
        </header>

        <div id="page-body">
            <article class="post" id="page-main" role="main">
    <header class="post-header">
        <h1>
            <a rel="bookmark"
               href="./ä½¿ç”¨grub2å¼•å¯¼ç¡¬ç›˜ä¸Šçš„isoæ–‡ä»¶.html"
               title="åœ¨ Btrfs åˆ†åŒºä½¿ç”¨ Grub ç¡¬ç›˜å¼•å¯¼ iso é•œåƒ">
                åœ¨ Btrfs åˆ†åŒºä½¿ç”¨ Grub ç¡¬ç›˜å¼•å¯¼ iso é•œåƒ
            </a>
        </h1>
    </header>
    <div class="post-content">
        <p>tags: grub,  btrfs
cover_image_url: </p>
<hr>
<p><img alt="f556bdcd4b50800022394f89c49e254" src="../../assets/f556bdcd4b50800022394f89c49e254.jpg"></p>
<p>ç”µè„‘ä¸Šæœ‰ä¸€äº› Linux é•œåƒï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ Grub å¯åŠ¨ï¼Œçœå»äº†å¾€ä¼˜ç›˜æ‹·è´çš„éº»çƒ¦ã€‚</p>
<h2>ä»£ç </h2>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/grub.d/40_custom<span class="w">     </span><span class="c1"># æ‰“å¼€ grub é…ç½®è‡ªå®šä¹‰æ–‡ä»¶</span>
</code></pre></div>

<p>ç„¶åæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/sh</span>
<span class="nb">exec</span><span class="w"> </span>tail<span class="w"> </span>-n<span class="w"> </span>+3<span class="w"> </span><span class="nv">$0</span>
<span class="c1"># This file provides an easy way to add custom menu entries.  Simply type the</span>
<span class="c1"># menu entries you want to add after this comment.  Be careful not to change</span>
<span class="c1"># the &#39;exec tail&#39; line above.</span>

menuentry<span class="w"> </span><span class="s2">&quot;Live CD&quot;</span><span class="w"> </span><span class="o">{</span>
<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="nv">isofile</span><span class="o">=</span><span class="s2">&quot;/@home/cheyan/Documents/ISO/linuxmint-cinnamon-64bit-edge.iso&quot;</span>
<span class="w"> </span>loopback<span class="w"> </span>loop<span class="w"> </span><span class="o">(</span>hd0,gpt3<span class="o">)</span>/<span class="nv">$isofile</span>
<span class="w"> </span>linux<span class="w"> </span><span class="o">(</span>loop<span class="o">)</span>/casper/vmlinuz<span class="w"> </span><span class="nv">boot</span><span class="o">=</span>casper<span class="w"> </span>iso-scan/filename<span class="o">=</span><span class="nv">$isofile</span><span class="w"> </span>quiet<span class="w"> </span>noeject<span class="w"> </span>nopromt<span class="w"> </span>spalsh<span class="w"> </span>--
<span class="w"> </span>initrd<span class="w"> </span><span class="o">(</span>loop<span class="o">)</span>/casper/initrd.lz
<span class="o">}</span>
</code></pre></div>

<p>ä¿å­˜åæ‰§è¡Œï¼š</p>
<div class="highlight"><pre><span></span><code>sudo update-grub    
sudo reboot
</code></pre></div>

<p>ç„¶åå°±èƒ½åœ¨å¯åŠ¨èœå•é‡Œé€šè¿‡<code>Live CD</code>é€‰é¡¹å¯åŠ¨é•œåƒäº†ã€‚</p>
<h3>è·¯å¾„</h3>
<p>ç½‘ä¸Šçš„æ–¹æ³•éƒ½åªæ˜¯è¯´äº†æ·»åŠ ä»£ç å³å¯ï¼Œä½†å®é™…ç”¨çš„æ—¶å€™è¿˜æ˜¯è¦å› åœ°åˆ¶å®œï¼Œæ ¹æ®è‡ªå·±çš„çŠ¶å†µæ¥ä¿®æ”¹ã€‚  </p>
<p>æ‹¿åˆšåˆšé‚£ä¸ªè·¯å¾„æ¥è¯´ï¼Œ<code>(hd0,gpt3)</code>é‡ŒæŒ‡çš„æ˜¯åœ¨ Grub ä¸‹è®¿é—®çš„ç¼–å·ï¼Œä»¥åŠ Btrfs åˆ†åŒºçš„<code>home</code>åœ¨è·¯å¾„ä¸­æ˜¯<code>@home</code>ï¼š</p>
<p><img alt="242f9af63ae78fdedd54f9351b2e177" src="../../assets/242f9af63ae78fdedd54f9351b2e177.jpg"></p>
<p>æœ€ç®€å•çš„æ–¹æ³•æ˜¯å¼€æœºçš„æ—¶å€™ï¼Œåœ¨ Grub ç•Œé¢ä¸­æŒ‰<code>ESC</code>é”®ï¼Œè¿›å…¥å‘½ä»¤è¡Œä¸­ï¼Œä½¿ç”¨<code>ls</code>å‘½ä»¤ï¼Œä¸€ä¸ªä¸€ä¸ªç£ç›˜è·¯å¾„åœ°è¯•ï¼Œç›´åˆ°æ‰¾åˆ°çœŸå®è·¯å¾„ä¸ºæ­¢ã€‚</p>
<h3>casper</h3>
<p><code>/casper/vmlinuz</code>å’Œ<code>/casper/initrd.lz</code>éƒ½æ˜¯å­˜å‚¨åœ¨ISOæ–‡ä»¶ä¸­çš„æ–‡ä»¶ã€‚</p>
<ul>
<li><code>/casper/vmlinuz</code> æ˜¯ä¸€ä¸ªLinuxå†…æ ¸æ˜ åƒæ–‡ä»¶ï¼Œå®ƒæ˜¯ISOæ–‡ä»¶ä¸­åŒ…å«çš„å®é™…å†…æ ¸æ–‡ä»¶ã€‚å†…æ ¸æ˜¯æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œè´Ÿè´£ç®¡ç†ç³»ç»Ÿèµ„æºã€å¤„ç†ç¡¬ä»¶å’Œæä¾›åŸºæœ¬çš„ç³»ç»ŸåŠŸèƒ½ã€‚</li>
<li><code>/casper/initrd.lz</code> æ˜¯ä¸€ä¸ªåˆå§‹åŒ– RAM ç£ç›˜ï¼ˆinitrdï¼‰æ˜ åƒæ–‡ä»¶ï¼Œä¹Ÿè¢«ç§°ä¸ºåˆå§‹æ–‡ä»¶ç³»ç»Ÿã€‚å®ƒåŒ…å«äº†å¯åŠ¨è¿‡ç¨‹ä¸­æ‰€éœ€çš„ä¸€äº›æ–‡ä»¶å’Œé©±åŠ¨ç¨‹åºã€‚åœ¨å¼•å¯¼è¿‡ç¨‹ä¸­ï¼Œå†…æ ¸é¦–å…ˆåŠ è½½ initrd æ˜ åƒæ–‡ä»¶ï¼Œç„¶åæ ¹æ®å…¶ä¸­çš„æŒ‡ä»¤æ¥åŠ è½½å¿…è¦çš„æ¨¡å—å’Œæ–‡ä»¶ç³»ç»Ÿã€‚</li>
</ul>
<p>è¿™ä¸¤ä¸ªæ–‡ä»¶ä¸åŒçš„é•œåƒï¼Œé‡Œé¢å¯èƒ½å†™çš„ä¹Ÿä¸ä¸€æ ·ï¼Œéœ€è¦è‡ªå·±æ‰“å¼€é•œåƒï¼Œçœ‹ä¸€ä¸‹å…·ä½“å«ä»€ä¹ˆã€‚</p>
<p><img alt="image-20231230011228951" src="../../assets/image-20231230011228951.png"></p>
    </div>
    <div class="meta">
<!-- includes/article_meta.html -->
<time class="tag" datetime="2023-12-30">2023-12-30</time>    </div>
    <ul class="neighbors">
            <li>
                å‰ã®è¨˜äº‹ï¼š
                <a href="./è§£å†³ä¼‘çœ åè‡ªåŠ¨é‡å¯çš„é—®é¢˜.html">
                    è§£å†³ Linux ä¼‘çœ åè‡ªåŠ¨é‡å¯çš„é—®é¢˜
                </a>
            </li>
            <li>
                æ¬¡ã®è¨˜äº‹ï¼š
                <a href="./mint-åˆ‡æ¢çª—å£åªæ˜¾ç¤ºå½“å‰æ˜¾ç¤ºå™¨.html">
                    è®© Linutx mint ä½¿ç”¨ Alt-Tab åªæ˜¾ç¤ºå½“å‰çª—å£
                </a>
            </li>
    </ul>


            </article> <!-- /#page-main -->

            <aside id="page-side"><!-- begin includes/sidebar.html -->
<nav>
    <div class="site-search kit-hidden-tb">
        <form class="tipue_search_group" id="search" method="get" action="search.html?q=" role="search">
            <input type="text" name="q" id="tipue_search_input" pattern=".{2,}" list="search"
                   title="At least 2 characters">
            <button type="submit" class="tipue_search_button">
                <svg class="bi bi-search" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
                     xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                          d="M10.442 10.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z"
                          clip-rule="evenodd"/>
                    <path fill-rule="evenodd"
                          d="M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13 6.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z"
                          clip-rule="evenodd"/>
                </svg>
            </button>
            <datalist id="search">
                <option>sbxlm</option>
                <option>linux</option>
                <option>manjaro</option>
            </datalist>
        </form>
    </div>
</nav>
<nav>
    <h3>ãƒšãƒ¼ã‚¸</h3>
    <ul>
        <li><a href="./index.html">ãƒ›ãƒ¼ãƒ </a></li>
        <li><a href="./archives.html">ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–</a></li>
    </ul>
</nav>
<nav>


<nav>
    <h3>å‹é”ã®å®¶</h3>
    <ul>
                <li><a href="http://www.imhan.com">å¯’æ³¥</a></li>
                <li><a href="http://blog.dimpurr.com/">é’‰å­ã®æ¬¡å…ƒ</a></li>
                <li><a href="https://plumz.me/">Plumz</a></li>
                <li><a href="https://lutaonan.com/">RandyBlog</a></li>
                <li><a href="https://dingyu.me/blog">ä¸å®‡ | DING Yu</a></li>
                <li><a href="https://mrzan.xyz">Mr.Zan</a></li>
                <li><a href="https://litterhougelangley.life/blog">HOUGE MADNESS BLOG</a></li>
                <li><a href="https://www.s31bz.com/">S31BZ</a></li>
    </ul>
</nav>
<h3>ãƒ©ãƒ³ãƒ€ãƒ è¨˜äº‹</h3>
<ul id="random-articles"></ul>
</nav>



<!-- end includes/sidebar.html --></aside> <!-- /#page-side -->
        </div> <!-- /#page-body -->

        <footer id="footer" role="contentinfo">
            <span>
                Powered by <a href="http://pelican.readthedocs.org" target="_blank">Pelican</a>
                &nbsp; /
                <a href="./archives.html">ã™ã¹ã¦ã®è¨˜äº‹</a>&nbsp; /
                <a href="./sitemap.xml" target="_blank">ã‚µã‚¤ãƒˆãƒãƒƒãƒ—</a>
            </span>
            <span>
                Â© 2010 - <script>document.write(new Date().getFullYear());</script> &nbsp;
                <a href="http://iamcheyan.com/">Cheyan</a> All Rights Reserved &nbsp; /
                <a href="https://beian.miit.gov.cn/" target="_blank">äº¬ICPå¤‡19045254å·-1</a>
            </span>
        </footer>
    </div> <!-- /#page -->
    <link rel="stylesheet" type="text/css" href="./theme/css/highlightjs.css" />
    <script src="./theme/js/highlight.min.js"></script>
    <script src="./theme/js/darkmode-js.min.js"></script>
    <script>
        const options = {
            bottom: '32px',
            right: '32px',
            time: '0.5s',
            saveInCookies: true,
            label: 'ğŸŒ“',
            autoMatchOsTheme: true
        };
        const darkmode = new Darkmode(options);
        darkmode.showWidget();
    </script>
    <script src="./theme/js/commentTyping.js"></script>
</body>

</html>